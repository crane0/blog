# 004 合法非空校验

手动实现对手机号做合法非空校验，不合法给出提示:

知识点：

## 1，自定义组件的 [`v-model`](https://cn.vuejs.org/v2/api/#model)

在子组件 `PersonalInfo.vue` 中设置：
``` js
<script>
export default {
  name: "PersonalInfo",
  model: {
    prop: "phoneInfo",  // 默认值是 'value'
    event: "change"  // 默认值是 'input'
  },
  props: {
    phoneInfo: Object,
  },
};
</script>
```

父组件中使用：
``` html
<PersonalInfo v-model="phoneInfo" />
```
上述代码相当于：
``` html
<PersonalInfo 
  :phoneInfo="phoneInfo"
  @change="val => {phoneInfo = val}"
/>
```

## 2，[`.sync`](https://cn.vuejs.org/v2/guide/components-custom-events.html#sync-%E4%BF%AE%E9%A5%B0%E7%AC%A6) 修饰符

可以模拟对一个 prop 的“双向绑定”，

父组件中可以监听目标事件，并根据需要更新一个本地的数据属性：
``` html
<PersonalInfo 
  :zip-code = "zipCode" 
  @update:zipCode = "zipCode = $event"
  />
```

相当于
``` html
<PersonalInfo :zip-code.sync="zipCode" />
```

在子组件 `PersonalInfo.vue` 中使用，可直接修改父组件的属性 `zipCode` 的值。
``` js
this.$emit("update:zipCode", newZipCode);
```