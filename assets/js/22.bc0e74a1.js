(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{224:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"_07，常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_07，常用命令"}},[s._v("#")]),s._v(" 07，常用命令")]),s._v(" "),t("h2",{attrs:{id:"_1，分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1，分支"}},[s._v("#")]),s._v(" 1，分支")]),s._v(" "),t("h3",{attrs:{id:"_1-1，查看分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1，查看分支"}},[s._v("#")]),s._v(" 1.1，查看分支")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("// 查看本地所有分支\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch\n\n// 查看本地和远程所有分支\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch -a\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("// 查看本地所有分支，和每个分支的最后一个 commit 的哈希和 message\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch -v\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://crane0.oss-cn-beijing.aliyuncs.com/blogMarkdown/gitgit07-1.png",alt:"git07-1"}})]),s._v(" "),t("h3",{attrs:{id:"_1-2，删除分支"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2，删除分支"}},[s._v("#")]),s._v(" 1.2，删除分支")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -d "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("branch_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n// 强制删除，比如该分支有修改没有被merge\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -D "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("branch_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"_2，修改-commit-的-message"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2，修改-commit-的-message"}},[s._v("#")]),s._v(" 2，修改 commit 的 message")]),s._v(" "),t("h3",{attrs:{id:"_2-1，修改最新-commit-的-message"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1，修改最新-commit-的-message"}},[s._v("#")]),s._v(" 2.1，修改最新 commit 的 message")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit --amend\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("该命令其实是代替（或者说修改）上一次提交，不只可以修改 message，")]),s._v(" "),t("p",[s._v("比如上一次提交时，有几个文件没有 add 和 commit，可以再次进行 add 之后再执行该命令提交。")]),s._v(" "),t("p",[s._v("但这次提交不会增加新的 commit，而是在上一次 commit 的基础上进行修改。")]),s._v(" "),t("h3",{attrs:{id:"_2-2，修改指定-commit-的-message"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2，修改指定-commit-的-message"}},[s._v("#")]),s._v(" 2.2，修改指定 commit 的 message")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase -i "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("祖先commit-hash"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("blockquote",[t("p",[s._v("rebase 表示变基")])]),s._v(" "),t("p",[s._v("首先要选择目标 commit 的祖先。")]),s._v(" "),t("p",[s._v("比如要修改 a6210afd 或 f56c73b，")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://crane0.oss-cn-beijing.aliyuncs.com/blogMarkdown/gitgit07-2.png",alt:"git07-2"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://crane0.oss-cn-beijing.aliyuncs.com/blogMarkdown/gitgit07-3.png",alt:"git07-3"}})]),s._v(" "),t("p",[s._v("注意到命令中有提示，所以将要修改的 commit 的 pick 变为 r 后保存退出，就会进入另一个编辑页面，修改 message 后保存退出即可。")]),s._v(" "),t("p",[s._v("另外，如果修改的目标 commit 后有子级，那目标和其子级的 commit-hash 都会发生变化。")]),s._v(" "),t("h2",{attrs:{id:"_3，合并多个-commit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3，合并多个-commit"}},[s._v("#")]),s._v(" 3，合并多个 commit")]),s._v(" "),t("h3",{attrs:{id:"_3-1，合并多个连续的-commit-为-1-个"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1，合并多个连续的-commit-为-1-个"}},[s._v("#")]),s._v(" 3.1，合并多个连续的 commit 为 1 个")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://crane0.oss-cn-beijing.aliyuncs.com/blogMarkdown/gitgit07-4.png",alt:"git07-4"}})]),s._v(" "),t("p",[s._v("如上，想将 add1 add2 add3 合并为 1个commit，执行如下命令，")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase -i bfda86c\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("进入新页面后，"),t("code",[s._v("s")]),s._v(" 表示使用当前 commit（这次 commit内容保留）， 并将其合并到之前的 commit 中。")]),s._v(" "),t("p",[s._v("所以，改变如下图示：")]),s._v(" "),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),t("p",[s._v("注意，第一个必须是 pick，否则 "),t("code",[s._v("s")]),s._v(" 无法找到上一个 commit ，操作无效并且会报错。")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://crane0.oss-cn-beijing.aliyuncs.com/blogMarkdown/gitgit07-5.png",alt:"git07-5"}})]),s._v(" "),t("p",[s._v("修改保存后，进入的下个页面，就可以对之前的 commit message 进行编辑，修改后保存退出即可。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://crane0.oss-cn-beijing.aliyuncs.com/blogMarkdown/gitgit07-6.png",alt:"git07-6"}})]),s._v(" "),t("p",[s._v("最新 log 如下：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://crane0.oss-cn-beijing.aliyuncs.com/blogMarkdown/gitgit07-7.png",alt:"git07-7"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://crane0.oss-cn-beijing.aliyuncs.com/blogMarkdown/gitgit07-8.png",alt:"git07-8"}})]),s._v(" "),t("h3",{attrs:{id:"_3-2，合并多个间隔的-commit-整理为-1个"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2，合并多个间隔的-commit-整理为-1个"}},[s._v("#")]),s._v(" 3.2，合并多个间隔的 commit 整理为 1个")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://crane0.oss-cn-beijing.aliyuncs.com/blogMarkdown/gitgit07-9.png",alt:"git07-9"}})]),s._v(" "),t("p",[s._v("比如，将修改 readme.md 的几个 commit 合并为1个")]),s._v(" "),t("p",[s._v("特殊的情况是，最开始的那个 commit 也要被一起修改，而他没有祖先，所以只能先选择它为祖先")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase -i 6652f71\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://crane0.oss-cn-beijing.aliyuncs.com/blogMarkdown/gitgit07-10.png",alt:"git07-10"}})]),s._v(" "),t("p",[s._v("会发现上图中并没有 6652f71，所以需要手动添加（可以不写message），并将要合并的 commit 放在一起。")]),s._v(" "),t("p",[s._v("同样的，修改 "),t("code",[s._v("pick")]),s._v(" 为 "),t("code",[s._v("s")]),s._v("，保存后退出。如果有问题，继续执行 "),t("code",[s._v("git rebase --continue")]),s._v(" 编辑即可。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://crane0.oss-cn-beijing.aliyuncs.com/blogMarkdown/gitgit07-11.png",alt:"git07-11"}})]),s._v(" "),t("p",[s._v("如下图示，已经合并的只剩下 3个 commit。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://crane0.oss-cn-beijing.aliyuncs.com/blogMarkdown/gitgit07-12.png",alt:"git07-12"}})]),s._v(" "),t("h3",{attrs:{id:"_3-3，其他问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3，其他问题"}},[s._v("#")]),s._v(" 3.3，其他问题")]),s._v(" "),t("p",[s._v("1，上面不是没有祖先 commit 嘛，可以使用 "),t("code",[s._v("--root")]),s._v("（根基点）。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase -i --root\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("2，如果在执行 "),t("code",[s._v("rebase")]),s._v(" 时出问题了，或是不想继续了，可以直接退出。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" rebase --abort\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("3，上面的操作中，每一个 commit 的修改都很少，而且没有冲突。")]),s._v(" "),t("p",[s._v("如果 commit 之间有冲突，就需要执行 "),t("code",[s._v("git rebase --continue")]),s._v("，解决完一个冲突后，继续执行 "),t("code",[s._v("git rebase --continue")]),s._v("，直到所有的冲突处理完。")]),s._v(" "),t("h2",{attrs:{id:"_4，不同位置，文件的差异比较"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4，不同位置，文件的差异比较"}},[s._v("#")]),s._v(" 4，不同位置，文件的差异比较")]),s._v(" "),t("h3",{attrs:{id:"_4-1，暂存区和-head-所含文件的差异"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1，暂存区和-head-所含文件的差异"}},[s._v("#")]),s._v(" 4.1，暂存区和 HEAD 所含文件的差异")]),s._v(" "),t("blockquote",[t("p",[s._v("HEAD 所含文件，就是上次 commit 对应的文件。")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" --cached\n\n// 或\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" --staged\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"_4-2，工作区和暂存区的差异"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2，工作区和暂存区的差异"}},[s._v("#")]),s._v(" 4.2，工作区和暂存区的差异")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_4-3，工作区和-head-所含文件的差异"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3，工作区和-head-所含文件的差异"}},[s._v("#")]),s._v(" 4.3，工作区和 HEAD 所含文件的差异")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" HEAD\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_4-4，commit-之间的比较"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4，commit-之间的比较"}},[s._v("#")]),s._v(" 4.4，commit 之间的比较")]),s._v(" "),t("p",[s._v("不同 commit 之间比较")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("commit-hash1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("commit-hash2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("比较最近 2个 commit")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" HEAD HEAD^\n\n// 或\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" HEAD HEAD~\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("所以"),t("code",[s._v("HEAD^^")]),s._v("表示父亲的父亲，等同于"),t("code",[s._v("HEAD~2")])]),s._v(" "),t("p",[s._v("而"),t("code",[s._v("HEAD^2")]),s._v("表示第2个父亲，因为1个 commit可能有多个父亲（多个分支合并）")]),s._v(" "),t("p",[s._v("另外，1个commit也可能有多个儿子（checkout 出多个）。")]),s._v(" "),t("p",[s._v("不同分支的 commit")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("// 不同分支，就是分支的最新 commit 之间比较\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("branch-name1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("branch-name2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("hr"),s._v(" "),t("p",[s._v("以上 4个，都可以指定具体的文件进行比较")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("// 多个指定文件空格隔开\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" --cached -- readme.md styles/index.css\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" -- readme.md styles/index.css\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" HEAD -- readme.md styles/index.css\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("diff")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("branch-name1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("branch-name2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" -- index.html\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"_5，恢复文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5，恢复文件"}},[s._v("#")]),s._v(" 5，恢复文件")]),s._v(" "),t("h3",{attrs:{id:"_5-1，恢复暂存区和-head-一样"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1，恢复暂存区和-head-一样"}},[s._v("#")]),s._v(" 5.1，恢复暂存区和 HEAD 一样")]),s._v(" "),t("p",[t("code",[s._v("git reset")]),s._v(" 有 3个参数")]),s._v(" "),t("p",[s._v("1，将暂存区内容清空，也就是恢复到和 HEAD一样。"),t("strong",[s._v("不影响工作区已修改内容")]),s._v("。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --mixed\n或\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset HEAD\n\n// 只清理指定的文件\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset HEAD -- index.html\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("2，将工作区和暂存区，都恢复到和 HEAD一样。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("恢复到指定的 commit，该 commit 的所有子级 commit都会被丢弃。"),t("strong",[s._v("也就是消除最近的几次 commit")]),s._v("。")]),s._v(" "),t("p",[t("strong",[s._v("所以如果只有本地有这些子级 commit，要慎用")]),s._v("！")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --hard "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("commit-hash"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("3，将 HEAD指向的 commit 恢复到指定的 commit。暂存区和工作区保持不变。")]),s._v(" "),t("blockquote",[t("p",[s._v("这个貌似还没有工作场景")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset --soft\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_5-2，恢复工作区和暂存区一致"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-2，恢复工作区和暂存区一致"}},[s._v("#")]),s._v(" 5.2，恢复工作区和暂存区一致")]),s._v(" "),t("p",[s._v("有时，做了一部分修改后，提交到暂存区。")]),s._v(" "),t("p",[s._v("再次做修改，发现还没有之前修改的好，于是想用暂存区的内容，覆盖工作区的内容。")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("所以有一个规则，如果要变更工作区的内容，用 "),t("code",[s._v("checkout")]),s._v("，要变更暂存区的内容，用 "),t("code",[s._v("reset")])])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("// 用暂存区的内容，覆盖工作区的内容。\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout\n\n// 只覆盖指定文件\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" checkout -- index.html\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"_6，临时加塞任务，怎么办"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6，临时加塞任务，怎么办"}},[s._v("#")]),s._v(" 6，临时加塞任务，怎么办")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("// 将当前工作区的内容，先存储在一个位置\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash\n\n// 查看当前存储列表\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash list\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("存储完之后，当前工作区就很干净，就可以切换到其他分支修改 bug了。修改完成后再切回来，使用")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("// 弹出 stash 列表中最新加入的那次。列表中就没有了\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash pop\n\n// 取出 stash 列表中最新加入的那次。列表中还有，所以可以多次复用。\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash apply\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"_6-1，如何取出指定的-stash"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-1，如何取出指定的-stash"}},[s._v("#")]),s._v(" 6.1，如何取出指定的 stash")]),s._v(" "),t("p",[s._v("工作区每发生一次修改，都可以进行 stash 操作，每个 stash 都有 1个 id，")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://crane0.oss-cn-beijing.aliyuncs.com/blogMarkdown/gitgit07-13.png",alt:"git07-13"}})]),s._v(" "),t("p",[s._v("可通过这个 id 取出指定的 stash，比如：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash pop stash@"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("下面2个命令相等")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash pop\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" stash pop stash@"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);